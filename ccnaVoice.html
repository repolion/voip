<!DOCTYPE html><html><head><meta charset="utf-8"><style>body {
  max-width: 980px;
  border: 1px solid #ddd;
  outline: 1300px solid #fff;
  margin: 16px auto;
}

body .markdown-body
{
  padding: 45px;
}

@font-face {
  font-family: fontawesome-mini;
  src: url(data:font/woff;charset=utf-8;base64,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) format('woff');
}

@font-face {
  font-family: octicons-anchor;
  src: url(data:font/woff;charset=utf-8;base64,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) format('woff');
}

.markdown-body {
  font-family: sans-serif;
  -ms-text-size-adjust: 100%;
  -webkit-text-size-adjust: 100%;
  color: #333333;
  overflow: hidden;
  font-family: "Helvetica Neue", Helvetica, "Segoe UI", Arial, freesans, sans-serif;
  font-size: 16px;
  line-height: 1.6;
  word-wrap: break-word;
}

.markdown-body a {
  background: transparent;
}

.markdown-body a:active,
.markdown-body a:hover {
  outline: 0;
}

.markdown-body b,
.markdown-body strong {
  font-weight: bold;
}

.markdown-body mark {
  background: #ff0;
  color: #000;
  font-style: italic;
  font-weight: bold;
}

.markdown-body sub,
.markdown-body sup {
  font-size: 75%;
  line-height: 0;
  position: relative;
  vertical-align: baseline;
}
.markdown-body sup {
  top: -0.5em;
}
.markdown-body sub {
  bottom: -0.25em;
}

.markdown-body h1 {
  font-size: 2em;
  margin: 0.67em 0;
}

.markdown-body img {
  border: 0;
}

.markdown-body hr {
  -moz-box-sizing: content-box;
  box-sizing: content-box;
  height: 0;
}

.markdown-body pre {
  overflow: auto;
}

.markdown-body code,
.markdown-body kbd,
.markdown-body pre,
.markdown-body samp {
  font-family: monospace, monospace;
  font-size: 1em;
}

.markdown-body input {
  color: inherit;
  font: inherit;
  margin: 0;
}

.markdown-body html input[disabled] {
  cursor: default;
}

.markdown-body input {
  line-height: normal;
}

.markdown-body input[type="checkbox"] {
  box-sizing: border-box;
  padding: 0;
}

.markdown-body table {
  border-collapse: collapse;
  border-spacing: 0;
}

.markdown-body td,
.markdown-body th {
  padding: 0;
}

.markdown-body .codehilitetable {
  border: 0;
  border-spacing: 0;
}

.markdown-body .codehilitetable tr {
  border: 0;
}

.markdown-body .codehilitetable pre,
.markdown-body .codehilitetable div.codehilite {
  margin: 0;
}

.markdown-body .linenos,
.markdown-body .code,
.markdown-body .codehilitetable td {
  border: 0;
  padding: 0;
}

.markdown-body td:not(.linenos) .linenodiv {
  padding: 0 !important;
}

.markdown-body .code {
  width: 100%;
}

.markdown-body .linenos div pre,
.markdown-body .linenodiv pre,
.markdown-body .linenodiv {
  border: 0;
  -webkit-border-radius: 0;
  -moz-border-radius: 0;
  border-radius: 0;
  -webkit-border-top-left-radius: 3px;
  -webkit-border-bottom-left-radius: 3px;
  -moz-border-radius-topleft: 3px;
  -moz-border-radius-bottomleft: 3px;
  border-top-left-radius: 3px;
  border-bottom-left-radius: 3px;
}

.markdown-body .code div pre,
.markdown-body .code div {
  border: 0;
  -webkit-border-radius: 0;
  -moz-border-radius: 0;
  border-radius: 0;
  -webkit-border-top-right-radius: 3px;
  -webkit-border-bottom-right-radius: 3px;
  -moz-border-radius-topright: 3px;
  -moz-border-radius-bottomright: 3px;
  border-top-right-radius: 3px;
  border-bottom-right-radius: 3px;
}

.markdown-body * {
  -moz-box-sizing: border-box;
  box-sizing: border-box;
}

.markdown-body input {
  font: 13px Helvetica, arial, freesans, clean, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol";
  line-height: 1.4;
}

.markdown-body a {
  color: #4183c4;
  text-decoration: none;
}

.markdown-body a:hover,
.markdown-body a:focus,
.markdown-body a:active {
  text-decoration: underline;
}

.markdown-body hr {
  height: 0;
  margin: 15px 0;
  overflow: hidden;
  background: transparent;
  border: 0;
  border-bottom: 1px solid #ddd;
}

.markdown-body hr:before,
.markdown-body hr:after {
  display: table;
  content: " ";
}

.markdown-body hr:after {
  clear: both;
}

.markdown-body h1,
.markdown-body h2,
.markdown-body h3,
.markdown-body h4,
.markdown-body h5,
.markdown-body h6 {
  margin-top: 15px;
  margin-bottom: 15px;
  line-height: 1.1;
}

.markdown-body h1 {
  font-size: 30px;
}

.markdown-body h2 {
  font-size: 21px;
}

.markdown-body h3 {
  font-size: 16px;
}

.markdown-body h4 {
  font-size: 14px;
}

.markdown-body h5 {
  font-size: 12px;
}

.markdown-body h6 {
  font-size: 11px;
}

.markdown-body blockquote {
  margin: 0;
}

.markdown-body ul,
.markdown-body ol {
  padding: 0;
  margin-top: 0;
  margin-bottom: 0;
}

.markdown-body ol ol,
.markdown-body ul ol {
  list-style-type: lower-roman;
}

.markdown-body ul ul ol,
.markdown-body ul ol ol,
.markdown-body ol ul ol,
.markdown-body ol ol ol {
  list-style-type: lower-alpha;
}

.markdown-body dd {
  margin-left: 0;
}

.markdown-body code,
.markdown-body pre,
.markdown-body samp {
  font-family: Consolas, "Liberation Mono", Menlo, Courier, monospace;
  font-size: 12px;
}

.markdown-body pre {
  margin-top: 0;
  margin-bottom: 0;
}

.markdown-body kbd {
  background-color: #e7e7e7;
  background-image: -moz-linear-gradient(#fefefe, #e7e7e7);
  background-image: -webkit-linear-gradient(#fefefe, #e7e7e7);
  background-image: linear-gradient(#fefefe, #e7e7e7);
  background-repeat: repeat-x;
  border-radius: 2px;
  border: 1px solid #cfcfcf;
  color: #000;
  padding: 3px 5px;
  line-height: 10px;
  font: 11px Consolas, "Liberation Mono", Menlo, Courier, monospace;
  display: inline-block;
}

.markdown-body>*:first-child {
  margin-top: 0 !important;
}

.markdown-body>*:last-child {
  margin-bottom: 0 !important;
}

.markdown-body .headeranchor-link {
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  display: block;
  padding-right: 6px;
  padding-left: 30px;
  margin-left: -30px;
}

.markdown-body .headeranchor-link:focus {
  outline: none;
}

.markdown-body h1,
.markdown-body h2,
.markdown-body h3,
.markdown-body h4,
.markdown-body h5,
.markdown-body h6 {
  position: relative;
  margin-top: 1em;
  margin-bottom: 16px;
  font-weight: bold;
  line-height: 1.4;
}

.markdown-body h1 .headeranchor,
.markdown-body h2 .headeranchor,
.markdown-body h3 .headeranchor,
.markdown-body h4 .headeranchor,
.markdown-body h5 .headeranchor,
.markdown-body h6 .headeranchor {
  display: none;
  color: #000;
  vertical-align: middle;
}

.markdown-body h1:hover .headeranchor-link,
.markdown-body h2:hover .headeranchor-link,
.markdown-body h3:hover .headeranchor-link,
.markdown-body h4:hover .headeranchor-link,
.markdown-body h5:hover .headeranchor-link,
.markdown-body h6:hover .headeranchor-link {
  height: 1em;
  padding-left: 8px;
  margin-left: -30px;
  line-height: 1;
  text-decoration: none;
}

.markdown-body h1:hover .headeranchor-link .headeranchor,
.markdown-body h2:hover .headeranchor-link .headeranchor,
.markdown-body h3:hover .headeranchor-link .headeranchor,
.markdown-body h4:hover .headeranchor-link .headeranchor,
.markdown-body h5:hover .headeranchor-link .headeranchor,
.markdown-body h6:hover .headeranchor-link .headeranchor {
  display: inline-block;
}

.markdown-body h1 {
  padding-bottom: 0.3em;
  font-size: 2.25em;
  line-height: 1.2;
  border-bottom: 1px solid #eee;
}

.markdown-body h2 {
  padding-bottom: 0.3em;
  font-size: 1.75em;
  line-height: 1.225;
  border-bottom: 1px solid #eee;
}

.markdown-body h3 {
  font-size: 1.5em;
  line-height: 1.43;
}

.markdown-body h4 {
  font-size: 1.25em;
}

.markdown-body h5 {
  font-size: 1em;
}

.markdown-body h6 {
  font-size: 1em;
  color: #777;
}

.markdown-body p,
.markdown-body blockquote,
.markdown-body ul,
.markdown-body ol,
.markdown-body dl,
.markdown-body table,
.markdown-body pre,
.markdown-body .admonition {
  margin-top: 0;
  margin-bottom: 16px;
}

.markdown-body hr {
  height: 4px;
  padding: 0;
  margin: 16px 0;
  background-color: #e7e7e7;
  border: 0 none;
}

.markdown-body ul,
.markdown-body ol {
  padding-left: 2em;
}

.markdown-body ul ul,
.markdown-body ul ol,
.markdown-body ol ol,
.markdown-body ol ul {
  margin-top: 0;
  margin-bottom: 0;
}

.markdown-body li>p {
  margin-top: 16px;
}

.markdown-body dl {
  padding: 0;
}

.markdown-body dl dt {
  padding: 0;
  margin-top: 16px;
  font-size: 1em;
  font-style: italic;
  font-weight: bold;
}

.markdown-body dl dd {
  padding: 0 16px;
  margin-bottom: 16px;
}

.markdown-body blockquote {
  padding: 0 15px;
  color: #777;
  border-left: 4px solid #ddd;
}

.markdown-body blockquote>:first-child {
  margin-top: 0;
}

.markdown-body blockquote>:last-child {
  margin-bottom: 0;
}

.markdown-body table {
  display: block;
  width: 100%;
  overflow: auto;
  word-break: normal;
  word-break: keep-all;
}

.markdown-body table th {
  font-weight: bold;
}

.markdown-body table th,
.markdown-body table td {
  padding: 6px 13px;
  border: 1px solid #ddd;
}

.markdown-body table tr {
  background-color: #fff;
  border-top: 1px solid #ccc;
}

.markdown-body table tr:nth-child(2n) {
  background-color: #f8f8f8;
}

.markdown-body img {
  max-width: 100%;
  -moz-box-sizing: border-box;
  box-sizing: border-box;
}

.markdown-body code,
.markdown-body samp {
  padding: 0;
  padding-top: 0.2em;
  padding-bottom: 0.2em;
  margin: 0;
  font-size: 85%;
  background-color: rgba(0,0,0,0.04);
  border-radius: 3px;
}

.markdown-body code:before,
.markdown-body code:after {
  letter-spacing: -0.2em;
  content: "\00a0";
}

.markdown-body pre>code {
  padding: 0;
  margin: 0;
  font-size: 100%;
  word-break: normal;
  white-space: pre;
  background: transparent;
  border: 0;
}

.markdown-body .codehilite {
  margin-bottom: 16px;
}

.markdown-body .codehilite pre,
.markdown-body pre {
  padding: 16px;
  overflow: auto;
  font-size: 85%;
  line-height: 1.45;
  background-color: #f7f7f7;
  border-radius: 3px;
}

.markdown-body .codehilite pre {
  margin-bottom: 0;
  word-break: normal;
}

.markdown-body pre {
  word-wrap: normal;
}

.markdown-body pre code {
  display: inline;
  max-width: initial;
  padding: 0;
  margin: 0;
  overflow: initial;
  line-height: inherit;
  word-wrap: normal;
  background-color: transparent;
  border: 0;
}

.markdown-body pre code:before,
.markdown-body pre code:after {
  content: normal;
}

/* Admonition */
.markdown-body .admonition {
  -webkit-border-radius: 3px;
  -moz-border-radius: 3px;
  position: relative;
  border-radius: 3px;
  border: 1px solid #e0e0e0;
  border-left: 6px solid #333;
  padding: 10px 10px 10px 30px;
}

.markdown-body .admonition table {
  color: #333;
}

.markdown-body .admonition p {
  padding: 0;
}

.markdown-body .admonition-title {
  font-weight: bold;
  margin: 0;
}

.markdown-body .admonition>.admonition-title {
  color: #333;
}

.markdown-body .attention>.admonition-title {
  color: #a6d796;
}

.markdown-body .caution>.admonition-title {
  color: #d7a796;
}

.markdown-body .hint>.admonition-title {
  color: #96c6d7;
}

.markdown-body .danger>.admonition-title {
  color: #c25f77;
}

.markdown-body .question>.admonition-title {
  color: #96a6d7;
}

.markdown-body .note>.admonition-title {
  color: #d7c896;
}

.markdown-body .admonition:before,
.markdown-body .attention:before,
.markdown-body .caution:before,
.markdown-body .hint:before,
.markdown-body .danger:before,
.markdown-body .question:before,
.markdown-body .note:before {
  font: normal normal 16px fontawesome-mini;
  -moz-osx-font-smoothing: grayscale;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
  line-height: 1.5;
  color: #333;
  position: absolute;
  left: 0;
  top: 0;
  padding-top: 10px;
  padding-left: 10px;
}

.markdown-body .admonition:before {
  content: "\f056\00a0";
  color: 333;
}

.markdown-body .attention:before {
  content: "\f058\00a0";
  color: #a6d796;
}

.markdown-body .caution:before {
  content: "\f06a\00a0";
  color: #d7a796;
}

.markdown-body .hint:before {
  content: "\f05a\00a0";
  color: #96c6d7;
}

.markdown-body .danger:before {
  content: "\f057\00a0";
  color: #c25f77;
}

.markdown-body .question:before {
  content: "\f059\00a0";
  color: #96a6d7;
}

.markdown-body .note:before {
  content: "\f040\00a0";
  color: #d7c896;
}

.markdown-body .admonition::after {
  content: normal;
}

.markdown-body .attention {
  border-left: 6px solid #a6d796;
}

.markdown-body .caution {
  border-left: 6px solid #d7a796;
}

.markdown-body .hint {
  border-left: 6px solid #96c6d7;
}

.markdown-body .danger {
  border-left: 6px solid #c25f77;
}

.markdown-body .question {
  border-left: 6px solid #96a6d7;
}

.markdown-body .note {
  border-left: 6px solid #d7c896;
}

.markdown-body .admonition>*:first-child {
  margin-top: 0 !important;
}

.markdown-body .admonition>*:last-child {
  margin-bottom: 0 !important;
}

/* progress bar*/
.markdown-body .progress {
  display: block;
  width: 300px;
  margin: 10px 0;
  height: 24px;
  -webkit-border-radius: 3px;
  -moz-border-radius: 3px;
  border-radius: 3px;
  background-color: #ededed;
  position: relative;
  box-shadow: inset -1px 1px 3px rgba(0, 0, 0, .1);
}

.markdown-body .progress-label {
  position: absolute;
  text-align: center;
  font-weight: bold;
  width: 100%; margin: 0;
  line-height: 24px;
  color: #333;
  text-shadow: 1px 1px 0 #fefefe, -1px -1px 0 #fefefe, -1px 1px 0 #fefefe, 1px -1px 0 #fefefe, 0 1px 0 #fefefe, 0 -1px 0 #fefefe, 1px 0 0 #fefefe, -1px 0 0 #fefefe, 1px 1px 2px #000;
  -webkit-font-smoothing: antialiased !important;
  white-space: nowrap;
  overflow: hidden;
}

.markdown-body .progress-bar {
  height: 24px;
  float: left;
  -webkit-border-radius: 3px;
  -moz-border-radius: 3px;
  border-radius: 3px;
  background-color: #96c6d7;
  box-shadow: inset 0 1px 0 rgba(255, 255, 255, .5), inset 0 -1px 0 rgba(0, 0, 0, .1);
  background-size: 30px 30px;
  background-image: -webkit-linear-gradient(
    135deg, rgba(255, 255, 255, .4) 27%,
    transparent 27%,
    transparent 52%, rgba(255, 255, 255, .4) 52%,
    rgba(255, 255, 255, .4) 77%,
    transparent 77%, transparent
  );
  background-image: -moz-linear-gradient(
    135deg,
    rgba(255, 255, 255, .4) 27%, transparent 27%,
    transparent 52%, rgba(255, 255, 255, .4) 52%,
    rgba(255, 255, 255, .4) 77%, transparent 77%,
    transparent
  );
  background-image: -ms-linear-gradient(
    135deg,
    rgba(255, 255, 255, .4) 27%, transparent 27%,
    transparent 52%, rgba(255, 255, 255, .4) 52%,
    rgba(255, 255, 255, .4) 77%, transparent 77%,
    transparent
  );
  background-image: -o-linear-gradient(
    135deg,
    rgba(255, 255, 255, .4) 27%, transparent 27%,
    transparent 52%, rgba(255, 255, 255, .4) 52%,
    rgba(255, 255, 255, .4) 77%, transparent 77%,
    transparent
  );
  background-image: linear-gradient(
    135deg,
    rgba(255, 255, 255, .4) 27%, transparent 27%,
    transparent 52%, rgba(255, 255, 255, .4) 52%,
    rgba(255, 255, 255, .4) 77%, transparent 77%,
    transparent
  );
}

.markdown-body .progress-100plus .progress-bar {
  background-color: #a6d796;
}

.markdown-body .progress-80plus .progress-bar {
  background-color: #c6d796;
}

.markdown-body .progress-60plus .progress-bar {
  background-color: #d7c896;
}

.markdown-body .progress-40plus .progress-bar {
  background-color: #d7a796;
}

.markdown-body .progress-20plus .progress-bar {
  background-color: #d796a6;
}

.markdown-body .progress-0plus .progress-bar {
  background-color: #c25f77;
}

.markdown-body .candystripe-animate .progress-bar{
  -webkit-animation: animate-stripes 3s linear infinite;
  -moz-animation: animate-stripes 3s linear infinite;
  animation: animate-stripes 3s linear infinite;
}

@-webkit-keyframes animate-stripes {
  0% {
    background-position: 0 0;
  }

  100% {
    background-position: 60px 0;
  }
}

@-moz-keyframes animate-stripes {
  0% {
    background-position: 0 0;
  }

  100% {
    background-position: 60px 0;
  }
}

@keyframes animate-stripes {
  0% {
    background-position: 0 0;
  }

  100% {
    background-position: 60px 0;
  }
}

.markdown-body .gloss .progress-bar {
  box-shadow:
    inset 0 4px 12px rgba(255, 255, 255, .7),
    inset 0 -12px 0 rgba(0, 0, 0, .05);
}

/* Multimarkdown Critic Blocks */
.markdown-body .critic_mark {
  background: #ff0;
}

.markdown-body .critic_delete {
  color: #c82829;
  text-decoration: line-through;
}

.markdown-body .critic_insert {
  color: #718c00 ;
  text-decoration: underline;
}

.markdown-body .critic_comment {
  color: #8e908c;
  font-style: italic;
}

.markdown-body .headeranchor {
  font: normal normal 16px octicons-anchor;
  line-height: 1;
  display: inline-block;
  text-decoration: none;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
}

.headeranchor:before {
  content: '\f05c';
}

.markdown-body .task-list-item {
  list-style-type: none;
}

.markdown-body .task-list-item+.task-list-item {
  margin-top: 3px;
}

.markdown-body .task-list-item input {
  margin: 0 4px 0.25em -20px;
  vertical-align: middle;
}

/* Media */
@media only screen and (min-width: 480px) {
  .markdown-body {
    font-size:14px;
  }
}

@media only screen and (min-width: 768px) {
  .markdown-body {
    font-size:16px;
  }
}

@media print {
  .markdown-body * {
    background: transparent !important;
    color: black !important;
    filter:none !important;
    -ms-filter: none !important;
  }

  .markdown-body {
    font-size:12pt;
    max-width:100%;
    outline:none;
    border: 0;
  }

  .markdown-body a,
  .markdown-body a:visited {
    text-decoration: underline;
  }

  .markdown-body .headeranchor-link {
    display: none;
  }

  .markdown-body a[href]:after {
    content: " (" attr(href) ")";
  }

  .markdown-body abbr[title]:after {
    content: " (" attr(title) ")";
  }

  .markdown-body .ir a:after,
  .markdown-body a[href^="javascript:"]:after,
  .markdown-body a[href^="#"]:after {
    content: "";
  }

  .markdown-body pre {
    white-space: pre;
    white-space: pre-wrap;
    word-wrap: break-word;
  }

  .markdown-body pre,
  .markdown-body blockquote {
    border: 1px solid #999;
    padding-right: 1em;
    page-break-inside: avoid;
  }

  .markdown-body .progress,
  .markdown-body .progress-bar {
    -moz-box-shadow: none;
    -webkit-box-shadow: none;
    box-shadow: none;
  }

  .markdown-body .progress {
    border: 1px solid #ddd;
  }

  .markdown-body .progress-bar {
    height: 22px;
    border-right: 1px solid #ddd;
  }

  .markdown-body tr,
  .markdown-body img {
    page-break-inside: avoid;
  }

  .markdown-body img {
    max-width: 100% !important;
  }

  .markdown-body p,
  .markdown-body h2,
  .markdown-body h3 {
    orphans: 3;
    widows: 3;
  }

  .markdown-body h2,
  .markdown-body h3 {
    page-break-after: avoid;
  }
}
</style><title>ccnaVoice</title></head><body><article class="markdown-body"><p><link rel="stylesheet" href="/style/style.css"></p>
<h1 id="ccna-voice"><a name="user-content-ccna-voice" href="#ccna-voice" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>CCNA VOICE</h1>
<h2 id="study-guide"><a name="user-content-study-guide" href="#study-guide" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>Study Guide</h2>
<p>Version 2010</p>
<h1 id="introducing-the-cisco-unified-communications-manager-lineup"><a name="user-content-introducing-the-cisco-unified-communications-manager-lineup" href="#introducing-the-cisco-unified-communications-manager-lineup" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>Introducing the Cisco Unified Communications Manager Lineup</h1>
<p><mark>In Cisco’s Unified Communications architecture, Unified Communications Managers are what makes IP telephony possible. These hardware/software devices are the brains that handle IP call processing. The call-processing portion of a Unified Communications system handles the sequence of operations from the time a user picks up a phone to make a call to the time the user ends the call by hanging up.</mark><br></p>
<h3 id="there-are-three-distinct-unified-communications-manager-systems"><a name="user-content-there-are-three-distinct-unified-communications-manager-systems" href="#there-are-three-distinct-unified-communications-manager-systems" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>There are three distinct Unified Communications Manager systems:</h3>
<ul>
<li><strong>Cisco Unified Communications Manager (CUCM)</strong></li>
<li><strong>Cisco Unified Communications Manager Business Edition (CUCMBE)</strong> </li>
<li><strong>Cisco Unified Communications Manager Express (CUCM Express)</strong></li>
</ul>
<h2 id="cisco-unified-communications-manager-cucm"><a name="user-content-cisco-unified-communications-manager-cucm" href="#cisco-unified-communications-manager-cucm" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>Cisco Unified Communications Manager - CUCM</h2>
<p><mark>The Unified Communications Manager is Cisco’s IP telephony flagship system.<br />
Each server appliance is capable of handling up to thoussands endpoints and can be clustered to support much more endpoints. <br />
Scalability is the name of the game here. When clustering multiple CUCM servers together, <strong>one CUCM Publisher</strong> controls the read/write functions of the database. All other servers are called <strong>subscriber servers</strong>. Subscriber servers handle additional call processing or sit idle as standby servers in case an active subscriber were to fail.<br><br />
<strong>It is important to keep in mind that the CUCM appliance offers only call-processing features.</strong><br><br />
All <strong>voice mail functionality</strong> must be handled by a separate hardware/software solution because call-processing tasks require dedicated hardware to be able to handle the large call volumes that CUCM was intended for.</mark> <br><br />
Likewise, a large voice mail solution should also have its own dedicated hardware to handle the high number of users and the degree of functionality that is required in such large organizations.</p>
<h4 id="cisco-unified-communications-manager-business-edition"><a name="user-content-cisco-unified-communications-manager-business-edition" href="#cisco-unified-communications-manager-business-edition" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>Cisco Unified Communications Manager Business Edition</h4>
<p>The business edition of the full-blown CUCM is geared toward medium-size companies that require up to 500 endpoints. <br />
<strong>This solution more scalable than CUCM Express but more expensive too.</strong></p>
<h4 id="cisco-unified-communications-manager-express-less-than-400-users"><a name="user-content-cisco-unified-communications-manager-express-less-than-400-users" href="#cisco-unified-communications-manager-express-less-than-400-users" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>Cisco Unified Communications Manager Express (less than 400 Users)</h4>
<p>This is a software runs on Cisco routers such as the Integrated Service Router (ISR) line. Integrated Service Router is a term Cisco uses for routers that integrate multiple services into a single chassis. For example, an ISR can integrate full routing, switching, wireless, firewalling, and voice capabilities on a single unit.<br><br />
A special version of Internetwork Operating System (IOS) software must be licensed for the router to run CUCM Express. The IOS is the software used by Cisco routers and switches that performs routing, switching and telecommunications functionalities. The Communications Manager Express software must also be installed in the router’s flash memory.<br><br />
No separate servers or hardware are needed to handle the communications of a business up to 400 users.<br />
<strong>CUCM Express does not manage more than 400 users. It can, however, be connected to a Cisco Unified Communications Manager to set up a network between a headquarters and a branch.</strong></p>
<h1 id="introducing-the-cisco-unity-lineup"><a name="user-content-introducing-the-cisco-unity-lineup" href="#introducing-the-cisco-unity-lineup" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>Introducing the Cisco Unity Lineup</h1>
<p><mark>In the Cisco world, the voice mail product is called Unity.<br><br />
The Unity voice mail solutions can be broken down into three main categories:</mark></p>
<ul>
<li><strong>Cisco Unity</strong></li>
<li><strong>Cisco Unity Connection</strong> </li>
<li><strong>Cisco Unity Express</strong></li>
</ul>
<p><mark>The main differences are in the number of users supported and the platform the Unity software resides on.</mark></p>
<h2 id="cisco-unity"><a name="user-content-cisco-unity" href="#cisco-unity" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>Cisco Unity</h2>
<p><mark>The Unity product is Cisco’s largest and most robust voice mail and unified messaging solution.<br />
The Unity product is the only solution that offers all the Unified Messaging (UM) functionality because it fully integrates with Microsoft Exchange.</mark><br />
<br><br />
Here are some of the most popular Unified Messaging features available with the product:<br />
<em> A single directory database for voice and email.<br />
</em> Listening to and deleting voice mail on Microsoft Exchange–powered email. Deleting the voice mail on email also deletes the message from your message waiting box on the phone and turns off the message waiting indicator (MWI) lamp on the phone.<br />
<em> Forwarding voice mail messages as email attachments.<br />
</em> Email messages being read to users over the phone using Cisco’s text to speech (TTS)<br />
conversion services.<br />
<em> Reception of fax messages sent to the Unity system and the ability to view them as image files.<br />
</em> Broadcasting of a voice mail message to multiple voice mail boxes.<br />
<br><br />
The product can also be configured to be fully redundant. Unity servers are set up in<br />
a primary and standby configuration, where the primary server handles all messaging processes. In the event of a primary Unity server failure, the standby server automatically takes over the primary server duties. The primary server stays inactive until an administrator automatically brings it back online as the primary message-processing device.</p>
<hr />
<h4 id="cisco-unity-connection"><a name="user-content-cisco-unity-connection" href="#cisco-unity-connection" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>Cisco Unity Connection</h4>
<p>Unity Connection software runs on a Linux-based server platform. It often accompanies CUCMBE implementations and can even reside on the same hardware.</p>
<h4 id="cisco-unity-express"><a name="user-content-cisco-unity-express" href="#cisco-unity-express" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>Cisco Unity Express</h4>
<p>As with all Express products in Cisco’s lineup, Unity Express runs on the same routers that CUCM Express supports.</p>
<hr />
<h4 id="introducing-cisco-ip-phones"><a name="user-content-introducing-cisco-ip-phones" href="#introducing-cisco-ip-phones" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>Introducing Cisco IP Phones</h4>
<p><mark><strong>IP phones include hardware- and software-based voice solutions. These IP phones allow the user to make phone calls on- and off-network just like any traditional telephone unit.</strong></mark> <br></p>
<p>Some examples of value-added functionality that Cisco IP phones possess:</p>
<ul>
<li><strong>The ability to power the phones using Power over Ethernet (PoE)</strong></li>
<li><strong>A built-in data PC Ethernet port (1 cale for pc and the phone)</strong></li>
<li><strong>Fixed and programmable voice feature buttons</strong></li>
<li><strong>Integration with video services</strong></li>
</ul>
<h4 id="cisco-analog-telephony-adapter"><a name="user-content-cisco-analog-telephony-adapter" href="#cisco-analog-telephony-adapter" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>Cisco Analog Telephony Adapter</h4>
<p><strong>The Cisco Analog Telephony Adapter (ATA)</strong> <mark>is a device that allows standard analog telephones and fax machines to operate on an Ethernet LAN.</mark> The ATA has one Ethernet port for network connectivity and two RJ-11 analog ports to connect up to two analog devices. This solution is good if the organization has analog telephony devices it wants to leverage throughout an IP telephony migration.</p>
<p><img alt="Analog Telephony Adapter" src="/Users/Liongeek/Documents/MyDocuments/Stage_Coventry/Fedex/work/repolion/voip/images/ata.png" /></p>
<hr />
<h1 id="using-voice-gateways"><a name="user-content-using-voice-gateways" href="#using-voice-gateways" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>Using Voice Gateways</h1>
<p><mark>The Cisco Unified Communications call-processing devices in the CUCM suite allow engineers to configure and deploy a voice system for on-network calling.</mark> On-network dialing means that the calls are contained within a private network fully controlled by a private organization. But what if you need to make a call to someone outside the local organization? This is where voice gateways come into play.<br><br />
<mark><strong>Voice gateways are responsible for the setup of off-network calling.</strong></mark><br></p>
<p><mark>A voice gateway is simply an IOS router that is capable of translating legacy voice communication into IP packets for transport over data networks.<br />
It sits right on the border between your IP network and standard telephone networks.<br />
<strong>It is important to understand that voice gateways can connect your Cisco Unified Communications solution to the public switched telephone network (PSTN) either physically or virtually using a variety of methods.</strong></mark><br />
<br><br />
Voice analog and digital interfaces are special PSTN connections configured on voice gateway routers to bridge the VoIP and PSTN networks so off-network calls can successfully be completed.<br><br />
<img alt="voice Gateway" src="/Users/Liongeek/Documents/MyDocuments/Stage_Coventry/Fedex/work/repolion/voip/images/voiceGateway1.png" /></p>
<h4 id="virtual-way-to-connect-the-hateway-to-the-pstn"><a name="user-content-virtual-way-to-connect-the-hateway-to-the-pstn" href="#virtual-way-to-connect-the-hateway-to-the-pstn" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>Virtual way to connect the hateway to the PSTN</h4>
<p>A virtual method of connecting your voice gateway to the PSTN is to set up a VoIP trunk to an <strong>Internet Telephony Service Provider (ITSP)</strong>. This VoIP trunk essentially creates a virtual tunnel from your local voice gateway to a service provider using your Internet connection. The calls are then switched out onto the PSTN at the ITSP site. <br><br />
Next Figure shows how a voice gateway can be configured to connect virtually to the PSTN by tunneling voice traffic to an ITSP.<br />
<img alt="Gateway virtual connection to PSTN via ITSP" src="/Users/Liongeek/Documents/MyDocuments/Stage_Coventry/Fedex/work/repolion/voip/images/gatewayVirtual.png" /></p>
<h1 id="choosing-an-ip-telephony-deployment-option"><a name="user-content-choosing-an-ip-telephony-deployment-option" href="#choosing-an-ip-telephony-deployment-option" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>Choosing an IP Telephony Deployment Option</h1>
<p><mark>There are four Cisco-supported deployment options that we can use to design an IP telephony solution.</mark> Each option has advantages and disadvantages. Most deployments will fall nicely within one of the options depending on the end-user requirements.<br><br />
<mark>The four supported deployment options are as follows:</mark></p>
<ul>
<li><strong>Single site with centralized call processing</strong></li>
<li><strong>Multisite with centralized call processing</strong></li>
<li><strong>Clustering over the wide area network</strong></li>
<li><strong>Multisite with distributed call processing</strong></li>
</ul>
<h2 id="single-site-with-centralized-call-processing-one-site"><a name="user-content-single-site-with-centralized-call-processing-one-site" href="#single-site-with-centralized-call-processing-one-site" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>Single Site with Centralized Call Processing (One Site)</h2>
<p>The single-site deployment is a bit of a no-brainer. If all of your users are in the same geographic region and are interconnected with a high-speed network, then a centralized- call processing solution is the way to go. High availability can be achieved by clustering multiple Communications Managers on the same local network. Voice gateway redundancy can also be achieved by adding two or more voice gateway routers. The key factor to keep in mind is that even though the system needs multiple CUCM systems for redundancy.</p>
<p><img alt="Single site deployement" src="/Users/Liongeek/Documents/MyDocuments/Stage_Coventry/Fedex/work/repolion/voip/images/singleSite.png" /></p>
<h1 id="multisite-with-centralized-call-processing-what-fedex-had-has-architecture-before-the-current-one"><a name="user-content-multisite-with-centralized-call-processing-what-fedex-had-has-architecture-before-the-current-one" href="#multisite-with-centralized-call-processing-what-fedex-had-has-architecture-before-the-current-one" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>Multisite with Centralized Call Processing (what Fedex had has architecture before the current one)</h1>
<p>The design options become more interesting when you need to provide unified communications to multiple sites that are interconnected across a wide area network (WAN). One option is to offer VoIP services to remote sites that communicate across the WAN to a CUCM system located at a central site.</p>
<p><img alt="Multisite centralized" src="/Users/Liongeek/Documents/MyDocuments/Stage_Coventry/Fedex/work/repolion/voip/images/multisiteCentralized.png" /></p>
<p>Phones located at Remote Site A and Remote Site B will communicate back to a single call-processing cluster located at the primary site. This solution is best when the vast majority of your users are located at a single site and you have a few remote sites.</p>
<p>If your remote sites have a single WAN connection, this creates a single point of failure. If it is critical that the remote sites maintain the ability to have at least basic PSTN calling capabilities during a WAN outage, you can implement the survivable remote site telephony service (SRST) to a voice-capable router at each remote site.</p>
<h2 id="clustering-over-the-wide-area-network-limited-to-6-total-sites-max"><a name="user-content-clustering-over-the-wide-area-network-limited-to-6-total-sites-max" href="#clustering-over-the-wide-area-network-limited-to-6-total-sites-max" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>Clustering over the Wide Area Network (Limited to &ldquo;6 total sites MAX&rdquo;)</h2>
<p>If your organization has two to six large and geographically dispersed locations that are interconnected by a high-speed and reliable WAN link, the clustering option may be the right choice for you. Basically, you provision a CUCM publisher server at one location and up to five subscriber servers at the remote site locations. The publisher and subscriber servers talk to one another and work as a single unit.On-network calls are made across the WAN, while off-network calls are made over the local PSTN connections. If the WAN were to fail, users would continue to connect to their local CUCM server, but all calls placed would go over the PSTN. </p>
<p><img alt="Clustering over the WAN" src="/Users/Liongeek/Documents/MyDocuments/Stage_Coventry/Fedex/work/repolion/voip/images/clusteringOverNetwork.png" /></p>
<h1 id="multisite-with-distributed-call-processing"><a name="user-content-multisite-with-distributed-call-processing" href="#multisite-with-distributed-call-processing" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>Multisite with Distributed Call Processing</h1>
<p>The distributed call-processing deployment is the best choice when you have many users who are geographically dispersed in multiple locations. The remote sites may also have low-speed WAN connections that are not highly reliable. If WAN conditions are not ideal for voice, then it might be best to distribute the call-processing and voice mail functionality out to the remote site itself.</p>
<p><img alt="Multisite distributed" src="/Users/Liongeek/Documents/MyDocuments/Stage_Coventry/Fedex/work/repolion/voip/images/multisiteDistributed.png" /></p>
<p>As you can see in the figure, each remote site has a Communications Manager and voice gateway to locally serve the remote-site phones, and each is completely independent of every other. The design can be configured for VoIP traffic to traverse WAN links to reach other internal destinations if possible. If the WAN is too congested, internal calls will be made over the PSTN.<br />
Clearly this deployment offers the utmost in reliability but it comes at a high cost.</p>
<hr />
<h1 id="understanding-the-unified-communications-model"><a name="user-content-understanding-the-unified-communications-model" href="#understanding-the-unified-communications-model" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>Understanding the Unified Communications Model</h1>
<p><strong>The next figure displays the four layers and the core components within each layer.</strong></p>
<p><img alt="Unified Communication Model" src="/Users/Liongeek/Documents/MyDocuments/Stage_Coventry/Fedex/work/repolion/voip/images/ucModel.png" /></p>
<h3 id="the-infrastructure-layer"><a name="user-content-the-infrastructure-layer" href="#the-infrastructure-layer" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>The infrastructure layer</h3>
<p>The Infrastructure layer of the Unified Communications Model is <mark>where you will find your routers, switches, and voice gateways</mark>. The Infrastructure layer is <mark>responsible for moving IP packets from the source to the destination</mark>.<br />
Because the Unified Communications Model is a converged network, multiple types of traffic are sent over the same infrastructure. Data, voice, and video traffic are all running over the same cabling and hardware in this layer. <mark>Because of the mixed traffic, there must be a way to distinguish voice and video from data and prioritize the types</mark>. <mark>Voice and video traffic are much more sensitive</mark> to delay on the network and ultimately must take priority over data. The Infrastructure layer typically <mark>incorporates quality of service (QoS)</mark> mechanisms to intelligently identify time-sensitive traffic and give it priority when there is congestion on the network.<br />
<mark>Security also plays a key role in the Infrastructure layer</mark>. All access-control and IP restrictions are implemented at this layer. Typically, <mark>access control lists (ACLs) are created and implemented to limit the type of TCP/UDP traffic and source IP addresses that can access the Call Control layer</mark>, which is where the CUCM resides.</p>
<h3 id="the-call-control-layer"><a name="user-content-the-call-control-layer" href="#the-call-control-layer" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>The Call Control layer</h3>
<p>Sitting on top of the Infrastructure layer is the Call Control layer. <mark>This is the heart of the Unified Communications system</mark> and is <mark>where the Call Manager is found</mark>. The CUCM is responsible for the following functions:</p>
<ul>
<li><strong>Call processing</strong></li>
<li><strong>Call signaling</strong></li>
<li><strong>Endpoint control</strong></li>
<li><strong>Dial plan control</strong></li>
<li><strong>Media resource management</strong></li>
<li><strong>User management</strong> </li>
</ul>
<h3 id="the-applications-layer"><a name="user-content-the-applications-layer" href="#the-applications-layer" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>The Applications layer</h3>
<p>The Applications layer builds on the Call Control layer to provide value-added functionality that makes a Unified Communications system feature rich. The <mark>Cisco Unity voice mail application is part of this layer</mark>.<br />
The <mark>Cisco Emergency Responder</mark> is another application independent from the CUCM. This application is responsible for providing accurate information to emergency services in the event that an end user dials 911. While the Emergency Responder relies heavily on the Call Control layer, technically it is an independent application and sits one layer above<br />
the Call Control layer in the Unified Communications Model.<br />
A third popular Unified Communications application found in large call centers is <mark>the Unified Customer Contact Center</mark>. Specifically, the Contact Center application performs the following functions:</p>
<ul>
<li><strong>Separates and delivers different customers to the proper call-handling representative based on intelligent routing decisions</strong></li>
<li><strong>Monitors customer representative resource availability and idle times for proper staffing needs</strong></li>
<li><strong>Utilizes detailed customer profiles using both dynamically and manually added customer information</strong></li>
<li><strong>Integrates with Cisco Presence applications such as voice, video, email, instant messaging, and web collaboration</strong></li>
</ul>
<h3 id="the-endpoints"><a name="user-content-the-endpoints" href="#the-endpoints" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>The Endpoints</h3>
<p><mark>This is where all voice/video communications begin and end for the user</mark>. In this layer you will find devices such as <mark>Cisco IP phones, IP Communicators, soft phones, Cisco Video Advantage devices, and Cisco ATA termination points</mark>. Essentially, <mark>any user device that utilizes the following endpoint signaling protocols is considered to be an endpoint in the Cisco Unified Communications Model</mark>:</p>
<ul>
<li><strong>Skinny Call Control Protocol (SCCP)</strong>   </li>
<li><strong>Session Initiation Protocol (SIP)</strong></li>
</ul>
<p><mark>The users interact with these endpoints, and they require the support of the three layers below the Endpoints layer. Without the Applications layer, there would be no voice mail functions. Without the Call Control layer, there would be no intelligence to place a phone call. And without the Infrastructure layer, there would be no way to transport the traffic!</mark></p>
<h1 id="a-closer-look-at-voice-gateways"><a name="user-content-a-closer-look-at-voice-gateways" href="#a-closer-look-at-voice-gateways" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>A Closer Look at Voice Gateways</h1>
<p>Voice gateways are a vital part of VoIP communications and are often the most misunderstood. <mark>The purpose of voice gateways is to interconnect a VoIP packet-based network with a legacy phone network</mark>. A conversion process must take place for the two different systems to communicate with each other properly. Voice gateways can serve two primary functions on your network. <mark>They can be used to connect a CUCM to the PSTN</mark> or <mark>to connect a CUCM with a legacy PBX</mark>. <mark>Both of these services require a hardware component on the voice gateway, called a digital signal processor (DSP)</mark>. </p>
<blockquote>
<p><strong>DSP</strong> for <strong>Digital signal processor</strong>. It segments the voice signal into frames and store them into voice packets to Connect a CUCM to the PSTN</p>
</blockquote>
<h1 id="using-dsp-resources-on-voice-gateways"><a name="user-content-using-dsp-resources-on-voice-gateways" href="#using-dsp-resources-on-voice-gateways" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>Using DSP Resources on Voice Gateways</h1>
<p><mark>The most common use for a voice gateway is to connect a CUCM to the PSTN</mark>. The voice gateway handles termination of any analog or digital trunks that you are leasing from the phone company. The magic of the voice gateway is how voice signals based on one voice technology are converted to a different technology. <mark>The voice gateway uses special hardware chips called digital signal processors (DSPs)</mark> to accomplish this goal.<br><br />
The two primary voice gateway functions: </p>
<ul>
<li><strong>analog-to-digital conversion</strong> </li>
<li><strong>digital transcoding</strong> </li>
</ul>
<h2 id="analog-to-digital-conversion"><a name="user-content-analog-to-digital-conversion" href="#analog-to-digital-conversion" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>Analog-to-Digital Conversion</h2>
<p>Because DSPs are responsible for analog-to-digital conversion, they are required on voice gateways. Depending on the Cisco hardware used for a voice gateway, DSP modules can be found either attached to a network module (NM), WIC, or VWIC card or plugged directly into the motherboard of the router. <mark>It is important to note that a DSP resource is required for every legacy PSTN-circuit-to-IP-packet conversion that takes place on the voice gateway</mark>.<br />
<mark>Your voice gateway router is also likely to include one or many different types of digital or analog voice interfaces, such as <strong>FXO</strong>, <strong>ISDN BRI</strong>, or <strong>T1 PRI circuit</strong></mark>. The voice gateway sits between the legacy PSTN network and the VoIP network. The voice signals between the two networks do not speak the same language in terms of signaling, coding, and control. DSP resources are used to translate this information from one format to the other and thereby bridge the two networks.</p>
<p><mark>BRI and PRI are different types of digital or analog voice interfaces</mark><br />
<mark>B-Channel is for transmitting the content</mark><br><br />
<mark>D-Channel is for signaling and other communications</mark><br><br />
Actually, PRI and BRI are not that different at all.The only difference is the number of channels that they use.<br />
BRI : 2 B-Channels(1 up and 1 down) and 1 D-Channel <br />
PRI : (IN USA) 23 B-Channels + A D-Channel<br />
Elsewhere, 46 B-Channels and 2 D-Channels</p>
<p>1 ISDN PRI is the main level service while the ISDN BRI is an entry level service<br />
2 ISDN PRI uses more channels than ISDN BRI<br />
3 ISDN PRI is faster than ISDN BRI</p>
<p><mark>ISDN (Integrated Services Digital Network) </mark>is a very old set of standards created in 1988 for facilitating the transmission of digital data across typical telephone networks.</p>
<h2 id="digital-transcoding"><a name="user-content-digital-transcoding" href="#digital-transcoding" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>Digital Transcoding</h2>
<p><mark>Even when two devices speak natively on an IP network, they still may need DSP resources to communicate properly. When two VoIP devices wish to talk to one another over the IP network, both need to be able to understand the codec that is being used. If one VoIP end unit uses a codec that the other end unit does not understand, a DSP can be used to transcode the stream into a codec that is supported.<mark> If you require hardware transcoding in your voice network, you can connect your CUCM to a DSP farm, which is normally found on a voice gateway. Essentially, you configure SCCP signaling between the CUCM and the voice gateway, which contains DSP resources. <mark>When the CUCM receives a voice stream that requires transcoding, the stream is directed to the voice gateway using SCCP.<br />
The types of codecs you need to transcode are a factor in how many DSP resources you need on your voice gateway. Usually, the more compressed the audio signal is,<br />
the more DSP resources are required for transcoding into another codec. Voice codecs are classified by complexity; </mark></p>
<hr />
<h3 id="examples-may-or-may-not-be-needed-on-your-network"><a name="user-content-examples-may-or-may-not-be-needed-on-your-network" href="#examples-may-or-may-not-be-needed-on-your-network" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>Examples &ldquo;May or may not be needed on your network&rdquo;.</h3>
<h4 id="example-1-cisco-phones-running-g711-and-g729"><a name="user-content-example-1-cisco-phones-running-g711-and-g729" href="#example-1-cisco-phones-running-g711-and-g729" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>Example 1: Cisco Phones Running G.711 and G.729</h4>
<p>Suppose we have two Cisco phones, both 7960G desk phones. They are configured and running on a CUCM Express system. By default, the codec used for all VoIP on the CUCM Express is G.711. Let’s say that we change the codec of one of the phones to G.729. Now we have a situation where one phone is using the G.711 codec and the other is using<br />
G.729. If one phone calls the other, we will need DSP resources to transcode one codec into another, right? Well, not necessarily! Because the Cisco IP phones understand both codecs, when the call setup occurs, the phones will actually negotiate which codec is used. If they can both talk natively using one codec, that’s what they’ll do. If they do not have<br />
a common codec, then DSP resources will be needed. In our example, the phones will<br />
                82 Chapter 3   Voice over IP (VoIP)<br />
negotiate and end up using the G.729 codec. Why did they choose G.729? If there is a choice between two or more codecs that both endpoints natively speak, they will choose the one that offers the most compression and therefore uses the least bandwidth.<br></p>
<h4 id="example-2-one-cisco-phone-running-g729-and-a-third-party-phone-running-g726"><a name="user-content-example-2-one-cisco-phone-running-g729-and-a-third-party-phone-running-g726" href="#example-2-one-cisco-phone-running-g729-and-a-third-party-phone-running-g726" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>Example 2: One Cisco Phone Running G.729 and a Third-Party Phone Running G.726</h4>
<p>In this situation we have a Cisco phone that can understand G.729 and G.711. The third- party phone can use only the G.726 codec. In this situation, we’ll need to tap into the DSP resources to perform transcoding between the two endpoints.<br />
Echo Cancellation<br />
Echo is the reflection of sound that arrives to the listener a period of time after the direct sound is heard. A certain amount of echo is experienced on most voice calls and up to a certain point is tolerated. <mark>When analog signals are converted to digital signals and then compressed using codecs, echo is often amplified to the point where it severely degrades the quality of the call. DSP resources are used to assist in the elimination of echo when converting from one voice signal into another. Echo cancellation is performed by default</mark>.</p>
<hr />
<h1 id="dtmf-relay-services"><a name="user-content-dtmf-relay-services" href="#dtmf-relay-services" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>DTMF-Relay Services</h1>
<p><mark>VoIP devices do not support traditional DTMF digits by default. It may be necessary to allow your IP endpoints to use DTMF to communicate with non-VoIP-based services<mark>. DTMF-relay can be used to facilitate this conversion. There are several methods for configuring DTMF-relay. All of them require the use of DSPs to properly transport<br />
the DTMF tone uncompressed over an IP network. </p>
<blockquote>
<p>DTMF (dual tone multi frequency) is the signal to the phone company that you generate when you press an ordinary telephone&rsquo;s touch keys. With DTMF, each key you press on your phone generates two tones of specific frequencies. So that a voice can&rsquo;t imitate the tones, one tone is generated from a high-frequency group of tones and the other from a low frequency group.</p>
</blockquote>
<h1 id="media-termination-points"><a name="user-content-media-termination-points" href="#media-termination-points" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>Media Termination Points</h1>
<p>When using H.323 or SIP endpoints or gateways, you can use DSP resources to assist with the process of functions such as call holds, parks, transfers, and conferences. These voice services are all very commonly used in most CUCM implementations. These supplementary services are referred to as media termination points. The DSPs are used<br />
to either help “park” calls while on hold or parking or provide audio multiplexing into a single audible stream for conference calls.</p>
<blockquote>
<p>Call park is a method used to position callers in a unique slot. It as a reserved parking spot in a lot that has parking spaces numbered 1-100. This feature is commonly used in retail and hardware businesses, because the employees are constantly in different locations throughout these types of stores.</p>
</blockquote>
<h1 id="using-voice-gateways-to-connect-a-cucm-to-a-pbx"><a name="user-content-using-voice-gateways-to-connect-a-cucm-to-a-pbx" href="#using-voice-gateways-to-connect-a-cucm-to-a-pbx" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>Using Voice Gateways to Connect a CUCM to a PBX</h1>
<p><mark>A second design methodology for using voice gateways is used when companies are making the migration to a Cisco Unified Communications solution</mark>. The process of migrating<br />
away from a traditional PBX typically involves interconnecting the CUCM and PBX for a period of time. Some users may have new Cisco phones, while others might still have the older phones that connect to the legacy PBX. End users on one system need to be able to communicate easily with users on the other. <mark>In this situation, a voice gateway can be used to provide a common channel-signaling method</mark>. A digital trunk interface on the voice gateway connects to a digital trunk interface on the legacy PBX. </p>
<p><img alt="CUCM to PBX" src="/Users/Liongeek/Documents/MyDocuments/Stage_Coventry/Fedex/work/repolion/voip/images/cucmToPbx.png" /></p>
<p>The voice gateway represents the jumping-off point from the pure IP switched network and the legacy PBX network. In this particular setup, the two networks are interconnected by a PRI trunk. Depending on the type of PBX used, a different digital trunk might be used. <mark>The key point is that the PBX and voice gateway must use identical signaling on each side.</mark></p>
<h1 id="voice-gateway-dial-peers"><a name="user-content-voice-gateway-dial-peers" href="#voice-gateway-dial-peers" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>Voice Gateway Dial Peers</h1>
<p>In order to route voice traffic properly from one point to another point using H.323 or SIP voice gateways, we need to configure dial peers. <mark>A dial peer is a device that can make or receive a call in a voice network</mark>.<br><br />
<strong>With VoIP networks, there are two types of dial peers:</strong></p>
<ul>
<li><strong>POTS dial peers</strong>   </li>
<li><strong>VoIP dial peers</strong></li>
</ul>
<h3 id="pots-dial-peers"><a name="user-content-pots-dial-peers" href="#pots-dial-peers" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>POTS Dial Peers</h3>
<p><mark>POTS dial peers are considered to be traditional telephony devices such as analog phones, cellular phones, and fax machines.</mark>From a voice gateway perspective, the POTS dial peer is a simple dial-string-to-port mapping.</p>
<p><img alt="POTS Dial Peer" src="/Users/Liongeek/Documents/MyDocuments/Stage_Coventry/Fedex/work/repolion/voip/images/potsDialPeer.png" /></p>
<p>In this example, a single POTS dial peer runs from the analog phone located on the PSTN to our local voice gateway.</p>
<h3 id="voip-dial-peers"><a name="user-content-voip-dial-peers" href="#voip-dial-peers" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>VoIP Dial Peers</h3>
<p><mark>These dial peers include any VoIP-capable endpoint, router, and gateway within the IP network. Just like POTS dial peers, VoIP dial peers use a dial string for mapping purposes. The difference is that instead of mapping the dial string to a physical interface, the VoIP dial peer maps the dial string to a remote IP network device.</mark> </p>
<p><img alt="VoIP Dial Peers" src="/Users/Liongeek/Documents/MyDocuments/Stage_Coventry/Fedex/work/repolion/voip/images/voipDialPeers.png" /></p>
<p><mark>In this example, there is a VoIP dial peer for each side of the IP network. They are needed because each voice gateway requires a dial-peer configuration in order to identify the call source and destination endpoints.</mark></p>
<h3 id="dial-peers-and-call-legs"><a name="user-content-dial-peers-and-call-legs" href="#dial-peers-and-call-legs" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>Dial Peers and Call Legs</h3>
<p><mark>Call legs are logical connections between dial-peer origination and termination points on IP networks.</mark> They associate with dial peers on a one-to-one basis. A call leg is considered to be either a POTS or a VoIP leg, depending on which network the call leg represents. Next Figure shows a VoIP and POTS call communication scenario where phone A is making a call to phone B.</p>
<p><img alt="Call Legs" src="/Users/Liongeek/Documents/MyDocuments/Stage_Coventry/Fedex/work/repolion/voip/images/callLegs.png" /></p>
<p>This example shows that every voice IP terminating device has a call leg associated with it. Any voice gateway will have two associated call legs/dial peers for each logical connection. By contrast, a POTS dial peer has only a single call leg/dial peer associated with it. This is because once the call is placed out on the PSTN, we don’t really have any control over how it is switched. Therefore, we have control over only one dial peer and, ultimately, one call leg.</p>
<h1 id="comparing-voice-gateway-communication-protocols"><a name="user-content-comparing-voice-gateway-communication-protocols" href="#comparing-voice-gateway-communication-protocols" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>Comparing Voice Gateway Communication Protocols</h1>
<p><mark>Voice gateways provide a bridge between the Cisco Unified Communications Manager and either the PSTN or a legacy PBX</mark>. There are two types of voice gateways in the CUCM Express system. The voice gateway might reside on the same router as your CUCM Express software; this is known as an integrated voice gateway. If the PSTN trunks reside on the same hardware as the CUCM Express software, calls can be directly switched from the PSTN lines to the IP phones with little configuration. Figure 3.6 shows the integrated gateway setup, which requires no voice gateway protocol:</p>
<h4 id="integrated-voice-gateway"><a name="user-content-integrated-voice-gateway" href="#integrated-voice-gateway" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>Integrated Voice Gateway</h4>
<p><img alt="integrated voice gateway" src="/Users/Liongeek/Documents/MyDocuments/Stage_Coventry/Fedex/work/repolion/voip/images/integratedVoiceGateway.png" /><br><br></p>
<p><mark>The separated voice gateway sits on a different router than the CUCM Express software. If the voice gateway is separate, you need a signaling protocol to transport<br />
the calls across the IP network between the CUCM and the voice gateway.</mark> Next Figure depicts the separated voice gateway architecture and the link that requires a voice gateway signaling protocol.</p>
<h4 id="separated-voice-gateway"><a name="user-content-separated-voice-gateway" href="#separated-voice-gateway" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>Separated Voice Gateway</h4>
<p><img alt="integrated voice gateway" src="/Users/Liongeek/Documents/MyDocuments/Stage_Coventry/Fedex/work/repolion/voip/images/separatedVoiceGateway.png" /></p>
<p><mark>The Unified Communications system supports four methods of gateway communication. Let’s briefly look at these four gateway protocols.</mark></p>
<ul>
<li><strong>H.323 Gateway Protocol</strong></li>
<li><strong>The SIP Gateway Protocol</strong></li>
<li><strong>The MGCP Gateway Protocol</strong></li>
<li><strong>The SCCP Gateway Protocol</strong></li>
</ul>
<h2 id="the-h323-gateway-protocol"><a name="user-content-the-h323-gateway-protocol" href="#the-h323-gateway-protocol" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>The H.323 Gateway Protocol</h2>
<p>H.323 is an ITU standards-based peer-to-peer protocol. <mark>It is a bundle of multiple protocols signaling and controlling voice and video data</mark>.</p>
<p>The differents subprotocols has a different functionality</p>
<ul>
<li><strong>RAS</strong> : Messaging protocol used by the CUCM for gatekeeper discovery and registration. Also used to pass database lookup and CAC information.</li>
<li><strong>H.245</strong> : Performs call control functions.</li>
<li><strong>Voice Codecs (G.711, G.729, etc.)</strong> : Performs encoding/decoding of voice streams.</li>
<li><strong>H.225</strong> : Performs call setup and codec negotiation over TCP 1720.</li>
</ul>
<h2 id="the-sip-gateway-protocol"><a name="user-content-the-sip-gateway-protocol" href="#the-sip-gateway-protocol" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>The SIP Gateway Protocol</h2>
<p><mark><strong>Session Initiation Protocol (SIP)</strong></mark> is an IETF standard gateway communication method that uses a peer-to-peer architecture. It can run over TCP or UDP. By default, SIP uses UDP port 5060 when configured on a CUCM. <mark>Because it is a peer-to-peer system, the intelligence, such as dial plans and route patterns, resides on the voice gateway sides</mark>. It also means that the voice gateway configuration is more complex than with the client- server gateway protocols. SIP is considered the successor to H.323 and is in increasingly widespread use in new environments. But unlike H.323, SIP is merely responsible for call setup and control. <mark>Other protocols outside of SIP such as <strong>UDP/RTP/RTCP are ultimately</strong> responsible for the transport of the voice stream.</mark></p>
<h2 id="the-mgcp-gateway-protocol"><a name="user-content-the-mgcp-gateway-protocol" href="#the-mgcp-gateway-protocol" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>The MGCP Gateway Protocol</h2>
<p><mark>The Media Gateway Control Protocol (MGCP) is a client-server architecture, which means all of the intelligence, such as dial peers and route plans, resides on the CUCM</mark>. This centralized call control model means the gateway simply facilitates the voice routing functions that the CUCM determines. It is an IETF standard protocol and is the newest of the standards-based voice gateway signaling protocols. It is also one of the simplest<br />
to configure on the voice gateway. Because of its client-server nature, the bulk of the configuration is performed on the CUCM and very little is required on the router itself. <mark>MGCP can run over either TCP or UDP. Signaling information between the CUCM and gateway runs over port UDP/2427 and TCP/2428 by default</mark>.</p>
<h2 id="the-sccp-gateway-protocol"><a name="user-content-the-sccp-gateway-protocol" href="#the-sccp-gateway-protocol" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>The SCCP Gateway Protocol</h2>
<p><mark><strong>The Skinny Client Control Protocol (SCCP)</strong> is a Cisco proprietary gateway protocol. It uses a lightweight client-server architecture that allows the CUCM to maintain the dial plans and route patterns centrally and uses the gateway as a method of transport, similar to MGCP. Because SCCP is proprietary, your voice gateway must be a Cisco device. You may want to look into using SCCP as your voice gateway protocol, because it provides additional features that are not available with the standards-based protocols.</mark> The SCCP protocol runs over TCP port 2000.</p>
<h1 id="an-overview-of-voice-and-video-transport-protocols"><a name="user-content-an-overview-of-voice-and-video-transport-protocols" href="#an-overview-of-voice-and-video-transport-protocols" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>An Overview of Voice and Video Transport Protocols</h1>
<p>Data payloads such as voice and video that our Cisco Unified Communications Systems facilitate require specific protocols to be handled properly. There are three protocols that are used in Cisco VoIP environments: </p>
<ul>
<li><strong>Real-time Transport Protocol</strong></li>
<li><strong>Compressed Real-time Transport Protocol</strong></li>
<li><strong>Real-time Control Transport Protocol</strong></li>
</ul>
<h2 id="the-real-time-transport-protocol"><a name="user-content-the-real-time-transport-protocol" href="#the-real-time-transport-protocol" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>The Real-Time Transport Protocol</h2>
<p><mark>The foundation of all voice and video communication over an IP network begins with the Real-time Transport Protocol (RTP)</mark>. RTP is an IETF RFC 1889 and 3050 standard <mark>for the delivery of unicast and multicast voice/video streams. RTP almost always uses UDP for transport. UDP, unlike TCP, is an unreliable best-effort service. That may sound like a bad thing, but in reality it is the most efficient method for transport of streaming data. A best- effort service such as UDP does not attempt to retransmit or reorder packets as TCP does. If you think about it, once a voice packet is lost in transit, there is no reason to attempt to retransmit it, because once the packet reaches its destination, the sound wave contained in the packet would not make sense to the end user if it is delivered out of order. UDP also does not provide any flow control or error correction.</mark> This cuts down on the overhead of each datagram and therefore is much more efficient.<br />
The RTP header does offer some important information about its payload in each encapsulated packet.</p>
<h2 id="compressed-real-time-transport-protocol"><a name="user-content-compressed-real-time-transport-protocol" href="#compressed-real-time-transport-protocol" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>Compressed Real-time Transport Protocol &hellip;</h2>
<h2 id="real-time-control-transport-protocol"><a name="user-content-real-time-control-transport-protocol" href="#real-time-control-transport-protocol" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>Real-time Control Transport Protocol &hellip;</h2>
<h1 id="comparing-voip-endpoint-signaling-protocols"><a name="user-content-comparing-voip-endpoint-signaling-protocols" href="#comparing-voip-endpoint-signaling-protocols" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>Comparing VoIP Endpoint Signaling Protocols</h1>
<p><mark>VoIP uses IP for routing decisions, UDP for packet delivery, and RTP/RTCP for real-time transport. VoIP endpoint signaling protocols are responsible for locating endpoints, negotiation of various functions, and the setup and teardown of voice calls. SCCP and SIP are very important. Each of these protocols differs in architecture, call control, and other services.<mark></p>
<h2 id="sccp"><a name="user-content-sccp" href="#sccp" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>SCCP</h2>
<p><mark>The Skinny Call Control Protocol (SCCP) is a Cisco proprietary voice signaling protocol based on a client-server architecture. The clients can be any of the Cisco endpoint phones </mark>such as the Cisco 7971 or Cisco IP Communicator softphone. <mark>The server in the architecture is our Cisco Unified Communications Manager. All SCCP clients must communicate with the CUCM in order to place a call. In this regard, the phone is essentially a “dumb” device that fully relies on the CUCM to give it intelligence for call setup and teardown. So while the CUCM handles the call setup control, the phone is responsible only for the processing of RTP/RTCP packets. SCCP messages are transported over TCP port 2000. Because SCCP uses TCP for transport, messages can utilize TCP functionality such as error correction and guaranteed delivery of packets.<mark><br />
<mark>When an SCCP-enabled phone registers with it, the CUCM requests certain information from the phone: IP address, station ID, device types, and the codecs the phone can understand. The CUCM stores this information so it knows how to best handle the setup of calls to a particular endpoint. The CUCM uses SCCP messages for keepalives to the client phones. A keepalive is a message sent by one device to another at specific intervals to verify that communication between the two is functioning. If the CUCM does not receive a certain number of keepalive responses over a period of time, the stored endpoint information is cleared from the CUCM memory until it reconnects</mark>, at which time the phone will have to go through the information-gathering process again.<br />
<mark>Once the phone capabilities are registered on the CUCM, SCCP is used again to send out all the necessary information that the phone requires, including its phone number, button templates, time/date synchronization, and any other configurable options and displays</mark>.<br />
<mark>Messages are constantly sent between the client phone and the CUCM for everything that a user does on a phone. For example, when a user picks up the handset, an off-hook notification message is sent from the phone via SCCP to the CUCM. The CUCM then sends everything the phone should do in response to going off-hook. These include the message the LCD is to display, the softkeys that are to be displayed, and, of course, adial-tone signal. So clearly, SCCP is very much a client-server technology, because control of the phone is strictly maintained by the Communications Manager. It is important to keep in mind that the client-server model between the endpoint and CUCM is only for signaling; the actual voice packets encapsulated in RTP and the RTCP control data are transported directly from one endpoint to the other.</mark></p>
<p><img alt="SCCP RTP RTTP" src="/Users/Liongeek/Documents/MyDocuments/Stage_Coventry/Fedex/work/repolion/voip/images/sccpRtpRttp.png" /></p>
<h2 id="sip"><a name="user-content-sip" href="#sip" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>SIP</h2>
<p><mark>The Session Initiation Protocol (SIP) differs from SCCP in several ways. For one, it is an IETF RFC 3261 standard instead of the Cisco proprietary signaling protocol.</mark> This means that third-party phones and applications can be used on the CUCM system using SIP. The RFC for SIP states that the protocol was designed for the creation and management of multimedia sessions over the Internet. Its architecture is a peer-to-peer model in theory. Next Figure shows how both SIP and RTP/RTCP communicate directly between endpoints.</p>
<p><img alt="SIP" src="/Users/Liongeek/Documents/MyDocuments/Stage_Coventry/Fedex/work/repolion/voip/images/sip.png" /></p>
<p>SIP phones working in a Cisco Unified Communications environment are set up in SIP proxy mode. The CUCM SIP proxy is used for making requests on behalf of endpoints. This helps to facilitate policy enforcement by the CUCM administrator. When the SIP phone is set up to work in a Cisco UC environment, the SIP proxy IP address is configured to be the IP address of the CUCM Express. Next Figure shows how the CUCM is used as an SIP proxy.</p>
<p><img alt="CUCM SIP Proxy" src="/Users/Liongeek/Documents/MyDocuments/Stage_Coventry/Fedex/work/repolion/voip/images/sipProxy.png" /></p>
<p><mark>As soon as an SIP session is established between the two SIP endpoints, the actual voice stream flows between the users. The voice stream is managed by RTP and RTCP. The RTP/ RTCP stream is identical whether you are using SIP or SCCP for signaling. This is because the voice streams use the signaling protocols only for setup and teardown. As soon as SIP sets up the call, RTC/RTCP proceeds independently from SIP.</mark></p>
<h1 id="voice-signaling-protocols-in-review"><a name="user-content-voice-signaling-protocols-in-review" href="#voice-signaling-protocols-in-review" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>Voice Signaling Protocols in Review</h1>
<p>It is very important that you be able to successfully compare and contrast the different types of gateway and endpoint signaling protocols. Table 3.2 displays each protocol and its characteristics.</p>
<p><img alt="Voice Signaling Protocols" src="/Users/Liongeek/Documents/MyDocuments/Stage_Coventry/Fedex/work/repolion/voip/images/voiceSignalingProtocols.png" /></p>
<h1 id="comparing-the-common-voice-codecs"><a name="user-content-comparing-the-common-voice-codecs" href="#comparing-the-common-voice-codecs" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>Comparing the Common Voice Codecs</h1>
<p><mark>Voice codecs are responsible for the encoding and decoding of voice signals. They also can compress the digital signal so that more voice calls can be sent across a finite amount of bandwidth.</mark><br />
There are two protocols that are the most common voice codecs used:<br />
<em> <strong>G.711</strong><br />
</em> <strong>G.729</strong></p>
<h2 id="g711"><a name="user-content-g711" href="#g711" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>G.711</h2>
<p><mark>The G.711 ITU standard codec is also known as pulse code modulation (PCM). This codec samples voice signals at a frequency of 8,000 samples per second. It provides the best quality the most commonly used codecs, but that comes at a price. There are two common types of G.711 binary conversion techniques on most voice systems. The first G.711 type is called u-law and is most commonly used in the United States, Canada, and Japan. The second G.711 binary conversion type is called a-law and is used just about everywhere else on the planet. It is important to note that the two PCM techniques are not compatible with each other and need to be transcoded for interoperability.<br />
Each phone call on the network requires 64 Kbps on the wire. Let’s do some quick<br />
math to see how much compression is being used on the G.711 codec. Using Dr. Nyquist’s formula, we will get 8,000 voice samples each second. Each of these samples is 8 bits in length. So if we multiply 8,000 × 8, we get 64,000 bps, or 64 Kbps. This means that G.711 uses no compression when it encodes the voice stream! If you have plenty of bandwidth, G.711 is the way to go. If you are running voice over a low-speed WAN link or are planning to use wireless IP phones, then you may want to consider a codec that compresses the call into a smaller data stream.</mark></p>
<h2 id="g729"><a name="user-content-g729" href="#g729" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>G.729</h2>
<p>The G.729 ITU standard codec samples the voice signal at the same rate as G.711 of 8,000 samples per second per the Nyquist rate theorem. Also like G.711, the bit rate is fixed at 8 per sample. <mark>The major difference between G.711 and the variations of G.729 has to do with compression.This audio waveform prediction and synthesization degrades the quality of the voice signal by making the speaker’s voice sound robotic. But the G.729’s use of CS-ACELP allows the compressed voice signal to require only 8 Kbps per call as opposed to 64 Kbps required per stream of G.711.</mark> This means that eight voice calls using the G.729 codec can be made in the space of just one G.711 codec call. Not a bad tradeoff when you are attempting to run voice over low-speed WAN links!</p>
<h2 id="g729a"><a name="user-content-g729a" href="#g729a" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>G.729a &hellip;</h2>
<h2 id="ilbc"><a name="user-content-ilbc" href="#ilbc" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>iLBC &hellip;</h2></article></body></html>